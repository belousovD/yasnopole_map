<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Yasnopole map</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />

    <style>
      * {
        margin: 0;
        padding: 0;
        font-family: 'Montserrat', sans-serif;
      }
      body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }
      .container {
        width: 95vw;
        max-width: 1600px;
        height: 80vh;
        position: relative;
        overflow: hidden;
        border: 2px solid black;
      }
      .wrapper {
        width: 100%;
        height: 100%;
        position: relative;

        background-color: #fff;
      }
      .map {
        position: relative;
      }
      .map img {
        width: 100%;
      }
      .map svg {
        position: absolute;
        top: -2px;
        left: 0;
        height: 100%;
        width: 100%;
        z-index: 99;
      }
      .map circle {
        fill: transparent;
        stroke: #fbbb01;
        stroke-width: 0;
        pointer-events: all;

        transition: stroke-width 0.3s ease-out;
      }
      .map circle:hover {
        /* stroke: #fbbb01; */
        stroke-width: 25;
        fill: #fbbb01;
        cursor: pointer;
      }
      .modal-container {
        position: absolute;
        background-color: rgba(0, 0, 0, 0.7);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        width: 100%;
        height: 100%;
        top: 0;
      }
      .modal {
        max-width: 500px;
        max-height: 90%;
        border-radius: 5px;
        background-color: #fff;
        display: flex;
        flex-direction: column;
        justify-content: end;
        padding: 2em 1em;
        margin: 5% 10%;
      }
      .modal > * {
        margin: 0.3em 0;
      }
      .modal > a {
        text-decoration: none;
        color: #fff;
        padding: 0.5em;
        background-color: #fbbb01;
        border-radius: 5px;
        text-align: center;
      }

      .hidden {
        display: none;
      }

      .zoom-container {
        position: absolute;
        right: 10px;
        top: 10px;
        display: flex;
        flex-direction: row;
        width: 100px;
        justify-content: space-between;
        font-size: 30px;

        z-index: 999;
      }

      .zoom-container > div {
        cursor: pointer;
        width: 40px;
        height: 40px;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: rgba(251, 187, 1, 0.9);
      }

      .zoom-container > div:hover {
        background-color: rgba(160, 160, 160, 0.9);
      }


      @media (max-width: 600px) {
        .container {
          width: 100vw;
          height: 100vh;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="wrapper">
        <div class="map" style="width: 100%">
          <svg viewBox="0 0 5362 3909">
            <circle
              data-id="paseka"
              cx="1517.8285"
              cy="128.83426"
              r="35.136616"
            />

            <circle
              data-id="medoviy-dom"
              cx="761.0224"
              cy="412.63638"
              r="34.414875"
            />

            <circle
              data-id="okno-v-prirodu"
              cx="546.11578"
              cy="826.36261"
              r="34.626266"
            />

            <circle
              data-id="art-tropa"
              cx="1070.8722"
              cy="732.55646"
              r="34.505093"
            />

            <circle
              data-id="oktokupol"
              cx="1259.949"
              cy="925.10144"
              r="34.234436"
            />

            <circle
              data-id="crocococon"
              cx="407.96552"
              cy="1189.2411"
              r="34.279549"
            />

            <circle
              data-id="kostrovoe-mesto"
              cx="1000.5944"
              cy="1416.8989"
              r="29.452894"
            />

            <circle
              data-id="glamping"
              cx="606.09735"
              cy="1649.0535"
              r="34.144218"
            />

            <circle
              data-id="plotos"
              cx="1602.2656"
              cy="2107.5984"
              r="34.59531"
            />

            <circle
              data-id="shar"
              cx="861.72241"
              cy="2198.5889"
              r="40.176311"
            />

            <circle
              data-id="prud"
              cx="903.45282"
              cy="2565.7402"
              r="40.008373"
            />

            <circle
              data-id="kuboed"
              cx="682.32257"
              cy="2742.8621"
              r="34.371094"
            />

            <circle
              data-id="kostrovoe-mesto-2"
              cx="1320.8378"
              cy="2991.991"
              r="40.048725"
            />

            <circle
              data-id="fruktovie-sady"
              cx="974.89227"
              cy="3268.7991"
              r="34.626266"
            />

            <circle
              data-id="chasovnya"
              cx="1363.4794"
              cy="3775.1138"
              r="34.434887"
            />

            <circle
              data-id="viezd"
              cx="1953.6001"
              cy="3710.4207"
              r="33.796951"
            />

            <circle
              data-id="portal"
              cx="1780.5121"
              cy="3293.7559"
              r="33.796951"
            />

            <circle
              data-id="stol-na-sto"
              cx="2064.5366"
              cy="2834.5842"
              r="39.921139"
            />

            <circle
              data-id="letnyaya-kuhnya"
              cx="2151.5015"
              cy="2538.2539"
              r="40.303902"
            />

            <circle
              data-id="detskaya-ploshadka-gnezda"
              cx="2299.5244"
              cy="2363.2778"
              r="33.796951"
            />

            <circle
              data-id="gostinica-teplica"
              cx="2330.9478"
              cy="1866.2074"
              r="33.796951"
            />

            <circle data-id="sad" cx="1803.7526" cy="745.81848" r="33.796951" />

            <circle
              data-id="dom-korova-big"
              cx="2626.4863"
              cy="797.84021"
              r="33.796951"
            />

            <circle
              data-id="dom-byk"
              cx="2697.343"
              cy="584.83997"
              r="33.796951"
            />

            <circle
              data-id="ploshadka-detskih-masterskih"
              cx="2226.219"
              cy="1114.0558"
              r="33.796951"
            />

            <circle
              data-id="dom-bychok"
              cx="3035.4893"
              cy="453.41879"
              r="33.796951"
            />

            <circle
              data-id="dom-korova-small"
              cx="3002.8535"
              cy="800.77478"
              r="33.796951"
            />

            <circle
              data-id="gostevoy-dom-1"
              cx="3139.9839"
              cy="1118.7351"
              r="33.796951"
            />

            <circle
              data-id="gostevoy-dom-2"
              cx="3390.219"
              cy="1211.1929"
              r="33.796951"
            />

            <circle
              data-id="gostevoy-dom-4"
              cx="3592.9639"
              cy="1052.049"
              r="33.796951"
            />

            <circle
              data-id="gostevoy-dom-5"
              cx="3933.4019"
              cy="1100.6504"
              r="33.796951"
            />

            <circle
              data-id="gostevoy-dom-6"
              cx="3919.7158"
              cy="870.77478"
              r="33.796951"
            />

            <circle
              data-id="gostevoy-dom-7"
              cx="4186.0073"
              cy="732.51294"
              r="33.796951"
            />

            <circle
              data-id="gostevoy-dom-8"
              cx="4147.7158"
              cy="517.81384"
              r="33.796951"
            />

            <circle
              data-id="a-dom"
              cx="4344.9785"
              cy="342.42688"
              r="33.796951"
            />

            <circle
              data-id="gostevoy-dom-sharik-10"
              cx="4889.6079"
              cy="669.72504"
              r="33.796951"
            />

            <circle
              data-id="gostevoy-dom-sharik-9"
              cx="4764.584"
              cy="891.50146"
              r="33.796951"
            />

            <circle
              data-id="wonderdom-3d-doma"
              cx="4227.3169"
              cy="1363.5458"
              r="33.796951"
            />

            <circle
              data-id="permakulturniy-ogorod"
              cx="3991.7373"
              cy="1530.8429"
              r="33.796951"
            />

            <circle
              data-id="posadki-golubiki"
              cx="3308.7744"
              cy="1771.4022"
              r="33.796951"
            />

            <circle
              data-id="aptekarskiy-ogorod"
              cx="3573.8728"
              cy="1977.8268"
              r="33.796951"
            />

            <circle
              data-id="garage-techniki"
              cx="3088.415"
              cy="2475.9119"
              r="33.796951"
            />

            <circle
              data-id="ptichnik"
              cx="4659.0229"
              cy="1879.1407"
              r="33.796951"
            />

            <circle
              data-id="kuriniy-traktor"
              cx="4370.8599"
              cy="2067.5718"
              r="33.796951"
            />

            <circle
              data-id="keramicheskaya-masterskaya"
              cx="4432.853"
              cy="2500.5198"
              r="33.796951"
            />

            <circle
              data-id="sirovarnya"
              cx="4247.8203"
              cy="2633.1277"
              r="33.796951"
            />

            <circle
              data-id="senoval"
              cx="2846.6045"
              cy="2840.7483"
              r="33.796951"
            />

            <circle
              data-id="levada-dlya-verkhovoy-ezdy"
              cx="3288.2126"
              cy="3200.8074"
              r="33.796951"
            />

            <circle
              data-id="dom-kovcheg"
              cx="4370.4878"
              cy="3213.7795"
              r="33.796951"
            />
          </svg>
          <img src="map_yasnopole.jpg" alt="map-bg" />
        </div>
      </div>

      <div class="zoom-container">
        <div class="plus-button">+</div>
        <div class="minus-button">-</div>
      </div>

      <div class="modal-container hidden">
        <div class="modal">
          <img
            src="gost.jpg"
            alt="map-bg"
            style="
              width: 100%;
              height: 100%;
              overflow: hidden;
              object-fit: cover;
            "
          />
          <h1 class="modal-name"></h1>
          <p class="modal-description"></p>
          <a href="" class="modal-link"></a>
        </div>
      </div>
    </div>

    <script>
      const buildingsDescription = {
        paseka: {
          name: 'Пасека',
          description:
            'Апидомик позволяет человеку пожить внутри пчелиной семьи, ощущать их энергетику, вдыхая целебный воздух ароматов меда, воска, пыльцы, прополиса.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'medoviy-dom': {
          name: 'Медовый дом',
          description: '',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'okno-v-prirodu': {
          name: 'Окно в природу',
          description:
            'В свое время Петр I прорубил окно в Европу, сегодня пришло время прорубить окно обратно в природу и начать выстраивать с ней гармоничные взаимоотношения.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'art-tropa': {
          name: 'Арт-тропа ЗЕМЛЫ',
          description:
            'Более 30 арт-объектов, созданных детьми студии ДЭЗ5 под руководством Михаила Лобазова.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        oktokupol: {
          name: 'Октокупол',
          description: 'Сферическая площадка для проведения различных занятий.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        crocococon: {
          name: 'Крокококон',
          description:
            'Крокококон – сокращение фразы "крокодил, съевший кокон". Внутри него можно посидеть у костра, провести занятия в зале с панорамными окнами или заглянуть в тренажерный зал.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'kostrovoe-mesto': {
          name: 'Костровое место',
          description:
            'Костровое место со скамейкой Линией, представляющей из себя секции сидений, создающие линию в пространстве.',
          link: '',
          imageLinks: ['test', 'test'],
        },
        glamping: {
          name: 'Глемпинг',
          description:
            'Уютные гостевые двухместные мини-домики на летний период.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        plotos: {
          name: '"Плотос"',
          description:
            'Инсталляцию можно использовать и как плот, и как шезлонг.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        shar: {
          name: '"Шар"',
          description:
            'Расположен на возвышении создаваемого пруда и одновременно выполняет функцию беседки.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        prud: {
          name: 'Пруд',
          description:
            'Сделан с помощью Центра Зеппа Хольцера. C его помощью мы изменили водный баланс на территории и улучшили питание фруктовых садов.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        kuboed: {
          name: 'Кубоед',
          description:
            'Инсталляция является наглядной демонстрацией триумфа природы над делом рук человеческих.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'kostrovoe-mesto-2': {
          name: 'Костровое место',
          description:
            'Костровое место со скамейкой Линией, представляющей из себя секции сидений, создающие линию в пространстве.',
          link: '',
          imageLinks: ['test', 'test'],
        },
        'fruktovie-sady': {
          name: 'Фруктовые сады',
          description:
            'Фруктовый сады с грушами, яблоками, айвой и другими деревьями открыты для каждого нашего гостя.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        chasovnya: {
          name: 'Часовня',
          description: 'Действующая часовня на территории экопарка.',
          link: '',
          imageLinks: ['test', 'test'],
        },
        viezd: {
          name: 'Въезд / Смотровая площадка',
          description:
            'Въездная группа с высокой смотровой башней, с которой открывается вид на парк.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        portal: {
          name: '"Портал"',
          description:
            'Конструкция 6 м в высоту и 8 м в ширину, построенная без единого гвоздя и символизирующая ритуал перехода в пространство экопарка.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'stol-na-sto': {
          name: '"Стол на сто"',
          description:
            'Главный объект фестивальной площадки, который может вместить 100 человек.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'letnyaya-kuhnya': {
          name: 'Летняя кухня',
          description:
            'Летняя кухня с функциональным арт-объектом Стол на сто.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'detskaya-ploshadka-gnezda': {
          name: 'Детская площадка "гнезда"',
          description:
            'Уникальная и  природная детская арт-площадка из балансиров, качелей и настоящей огромной ярмарочной карусели, выполненных из огромных, специально привезенных бревен сибирской лиственницы.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'gostinica-teplica': {
          name: 'Гостиница-теплица',
          description:
            'Здание в современном стиле, с панорамным остеклением и минимализмом сочетаются с настоящей русской печью и камином в ресторане.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        sad: {
          name: 'Сад',
          description: '',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'dom-korova-big': {
          name: 'Дом-корова большая',
          description:
            'Компактный авторский архитектурный дом, который имеют только 2-ой этаж и огромное панорамное окно в гостиной–спальне во всю торцевую стену.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'dom-byk': {
          name: 'Дом-бык',
          description:
            'Двухуровневый жилой объём с двухсветным пространством внутри, “рогами”- трубами и крыльцом-“хвостом”',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'ploshadka-detskih-masterskih': {
          name: 'Площадка детских мастерских',
          description: 'Место постоянной энергии, креатива и созидания.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'dom-bychok': {
          name: 'Дом-бычок',
          description: '',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'dom-korova-small': {
          name: 'Дом-корова малая',
          description:
            'Компактный авторский архитектурный дом, который имеют только 2-ой этаж и огромное панорамное окно в гостиной–спальне во всю торцевую стену.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'gostevoy-dom-1': {
          name: 'Гостевой дом 1',
          description:
            'Двухэтажный уютный дом с террасой и стульчиками на ней, беседкой и мангальной зоной.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'gostevoy-dom-2': {
          name: 'Гостевой дом 2',
          description:
            'Большой двухэтажный гостевой дом, с уютной террасой, открывающей вид на лес и поле.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'gostevoy-dom-4': {
          name: 'Гостевой дом 4',
          description: 'Одноэтажный компактный модульный дом с террасой.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'gostevoy-dom-5': {
          name: 'Гостевой дом 5',
          description: 'Одноэтажный компактный модульный дом с террасой.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'gostevoy-dom-6': {
          name: 'Гостевой дом 6',
          description:
            'Одноэтажный компактный модульный дом с террасой и панорамными окнами.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'gostevoy-dom-7': {
          name: 'Гостевой дом 7',
          description:
            'Одноэтажный компактный модульный дом с террасой и изюминкой – норкой внутри.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'gostevoy-dom-8': {
          name: 'Гостевой дом 8',
          description:
            'Одноэтажный компактный модульный дом с террасой и панорамными окнами.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'a-dom': {
          name: '"А"-дом',
          description:
            'Первый образец всесезонного модульного дома в экопарке.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'gostevoy-dom-sharik-10': {
          name: 'Гостевой дом шарик 10',
          description:
            'Купольные домики с панорамным видом на лес и террасой, на которой оборудована зона для отдыха со столиком, шезлонгами и гамаком.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'gostevoy-dom-sharik-9': {
          name: 'Гостевой дом шарик 9',
          description:
            'Купольные домики с панорамным видом на лес и террасой, на которой оборудована зона для отдыха со столиком, шезлонгами и гамаком.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'wonderdom-3d-doma': {
          name: 'WONDERDOM 3D дома',
          description:
            'Один из первых отелей в России и мире, напечатанный на 3D-принтере.',
          link: 'https://wonderdom.ru/',
          imageLinks: ['test', 'test'],
        },
        'permakulturniy-ogorod': {
          name: 'Пермакультурный огород',
          description:
            'Мы стремимся создать гармоничное взаимодействие между растениями, животными и окружающей средой, чтобы достичь продуктивности, экологической устойчивости и биоразнообразия.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'posadki-golubiki': {
          name: 'Посадки голубики',
          description: '',
          link: '',
          imageLinks: ['test', 'test'],
        },
        'aptekarskiy-ogorod': {
          name: 'Аптекарский огород',
          description:
            'Наш аптекарский огород с полезными растениями, которые мы используем на кухне и делаем из них натуральные чаи.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'garage-techniki': {
          name: 'Гараж техники',
          description: '',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        ptichnik: {
          name: 'Птичник',
          description: '',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'kuriniy-traktor': {
          name: 'Куриный трактор',
          description:
            'Куриный трактор обеспечивает кур свежей растительностью и насекомыми, что снижает потребность в кормовых добавках.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'keramicheskaya-masterskaya': {
          name: 'Керамическая мастерская',
          description:
            'Сосредоточение глины, постоянной энергии, креатива и созидания.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        sirovarnya: {
          name: 'Сыроварня',
          description:
            'Изготавливает натуральные сыры и молочную продукцию из молока коров и коз, проживающих на ферме экопарка.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        senoval: {
          name: 'Сеновал',
          description: '',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'levada-dlya-verkhovoy-ezdy': {
          name: 'Левада для верховой езды',
          description:
            'Для каждого гостя наш конный двор предлагает свою программу: обучение верховой езде или конные прогулки.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
        'dom-kovcheg': {
          name: 'Дом-ковчег',
          description:
            'Первый этаж отведен для проживания животных, второй этаж – для проживания гостей с 10 номерами.',
          link: '/link',
          imageLinks: ['test', 'test'],
        },
      };

      const map = document.querySelector('.map');
      const svg = map.querySelector('svg');
      const mapImg = map.querySelector('img');
      const buildingsDots = svg.querySelectorAll('circle');
      const modalC = document.querySelector('.modal-container');
      const modal = document.querySelector('.modal');

      buildingsDots.forEach(e => {
        e.addEventListener('click', event => {
          modalC.classList.remove('hidden');

          if (buildingsDescription[e.dataset.id].name)
            modal.querySelector('h1').textContent =
              buildingsDescription[e.dataset.id].name;
          if (buildingsDescription[e.dataset.id].description)
            modal.querySelector('p').textContent =
              buildingsDescription[e.dataset.id].description;
          if (buildingsDescription[e.dataset.id].link)
            modal.querySelector('a').href =
              buildingsDescription[e.dataset.id].link;
          if (buildingsDescription[e.dataset.id].link)
            modal.querySelector('a').textContent = `Перейти на страницу ${
              buildingsDescription[e.dataset.id].name
            }`;
        });
      });

      modalC.addEventListener('click', e => {
        const withinBoundaries = e.composedPath().includes(modal);
        if (!withinBoundaries) {
          modalC.classList.toggle('hidden');
        }
      });

      document.addEventListener('keydown', function (e) {
        if (e.keyCode == 27) {
          modalC.classList.add('hidden');
        }
      });

      document.addEventListener('DOMContentLoaded', () => {
        const plusBtn = document.querySelector('.plus-button');
        const minusBtn = document.querySelector('.minus-button');

        plusBtn.addEventListener('click', () => {
          for (let i = 0; i < 25; i++) {
            setTimeout(() => {
              map.style.width = `${+map.style.width.match(/\d+/) + 1}%`;
            }, 5 * i);
          }
        });
        minusBtn.addEventListener('click', () => {
          for (let i = 0; i < 25; i++) {
            setTimeout(() => {
              map.style.width = `${+map.style.width.match(/\d+/) - 1}%`;
            }, 5 * i);
          }
        });
      });

      let isDragging = false;
      let startX, startY;
      let offsetX = 0;
      let offsetY = 0;
      let initialX = 0;
      let initialY = 0;

      map.addEventListener('mousedown', startDragging);
      map.addEventListener('mousemove', drag);
      map.addEventListener('mouseup', stopDragging);
      map.addEventListener('mouseleave', stopDragging);

      function startDragging(event) {
        if (event.button !== 0) return; // Проверяем, что нажата левая кнопка мыши
        isDragging = true;
        startX = event.clientX;
        startY = event.clientY;
        offsetX = map.offsetLeft;
        offsetY = map.offsetTop;
      }

      function drag(event) {
        if (!isDragging) return;
        const deltaX = event.clientX - startX;
        const deltaY = event.clientY - startY;
        map.style.left = `${offsetX + deltaX}px`;
        map.style.top = `${offsetY + deltaY}px`;
      }

      function stopDragging() {
        isDragging = false;
      }

      map.addEventListener('touchstart', event => {
        const touch = event.touches[0];
        startX = touch.clientX;
        startY = touch.clientY;
        initialX = offsetX;
        initialY = offsetY;
        isDragging = false;
      });

      map.addEventListener('touchmove', event => {
        if (isDragging) {
          event.preventDefault();
          const touch = event.touches[0];
          const currentX = touch.clientX;
          const currentY = touch.clientY;
          offsetX = currentX - startX + initialX;
          offsetY = currentY - startY + initialY;
          map.style.transform = `translate(${offsetX}px, ${offsetY}px)`;
        } else {
          isDragging = true;
        }
      });

      map.addEventListener('touchend', () => {
        isDragging = false;
      });
    </script>
  </body>
</html>
